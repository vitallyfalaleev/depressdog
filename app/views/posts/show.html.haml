.ui.container
  .ui.piled.segments
    .ui.segment
      -if owner(@post.user_id)
        = link_to 'Edit', edit_post_path(@post),
                          class: 'ui green button'
        = link_to 'Destroy', @post,
                    method: :delete,data: { confirm: 'Are you sure?' },
                    class: 'ui red button'
      %h3.ui.header= @post.title
      %p= @post.body

    .ui.segment.html-format
      = render 'likes/html_likes', object: @post

    .ui.segment.ajax-format
      %a{href: '#', class: "like" + (current_user.liked?(@post) ? " active" : ''),
        'data-likable-id': @post.id, 'data-likable-type': 'Post', 'data-id': current_user.liked?(@post).try('id')}
        %span.likes-count
          = @post.likes.count
        Like

    .ui.segment.js-format{'data-likable-id': @post.id, 'data-likable-type': 'Post'}
      = render 'likes/likes', object: @post
  -#.ui.threaded.comments
  -#  %h3.ui.dividing.header Comments
  -#  - if current_user
  -#    = form_for Comment.new(commentable: @post), html: {class: 'ui reply form'} do |f|
  -#      - if notice
  -#        .ui.visible.negative.message= notice
  -#      = f.hidden_field :commentable_type, value: 'Post'
  -#      = f.hidden_field :commentable_id, value: @post.id
  -#
  -#      .field
  -#        = f.text_area :body, minlength: "3", maxlength: "500"
  -#      .ui.buttons
  -#        = f.submit 'Save', class: 'ui green button'
  -#        = f.button 'reset',type: :reset, class: 'ui orange button'
  -#  - else
  -#    .ui.warning.message
  -#      LogIn to leave a comment.
  -#  -if @post.comments.any?
  -#    = render @post.comments.reverse

